---
title: 生产数字化出入库的9个场景
date: 2026-01-19 10:47:03
tags: [ERP, 库存管理, 出入库, 生产管理]
categories: [工业信息化]
description: 详细解析ERP系统中出入库的9个核心业务场景，包括生产领料、配料、退料等各类单据的处理逻辑和转换规则。
---

# 生产数字化出入库的9个场景

本文档详细解析ERP系统中出入库的9个核心业务场景，涵盖生产领料、配料、退料等各类单据的处理逻辑、数量转换规则和系统对接要点。

## 完整业务场景

### **出库类（仓库库存减少）**

| 场景 | 物理流向 | ERP单据 | 数量 | 仓库库存 | DFS单据 |
| --- | --- | --- | --- | --- | --- |
| 生产领料（蓝） | 仓库→部门 | 生产领料通知单（蓝） | +100 | -100 | - |
| 配料单QC | 仓库→配料区 | 其他出库（蓝） | +100 | -100 | 正数 |
| 配料单LE | 仓库→现场 | 非定额领料 | +100 | -100 | 正数 |
| 退料单QC（红） | 仓库→现场 | 其他出库（红） | -100 | -100 | 负数 |
| 其他出库（蓝） | 仓库→部门 | 其他出库（蓝） | +100 | -100 | - |

### **入库类（仓库库存增加）**

| 场景 | 物理流向 | ERP单据 | 数量 | 仓库库存 | DFS单据 | 转换 |
| --- | --- | --- | --- | --- | --- | --- |
| 生产退料（红） | 部门→仓库 | 生产领料通知单（红） | -100 | +100 | - | 不变 |
| 配料单QR | 配料区→仓库 | 其他入库（红） | -100→+100 | +100 | 负数 | 需*-1 |
| 退料单QR | 现场→仓库 | 其他入库（蓝） | -100→+100 | +100 | 负数 | 需*-1 |
| 退料单LE | 现场→仓库 | 非定额退料 | -100 | +100 | 负数 | 不变 |
| 生产入库（蓝） | 车间→仓库 | 生产入库通知单（蓝） | +100 | +100 | - | 不变 |

## 分类业务场景

### A. 生产相关

1. 生产领料（蓝单）- 正常领料
2. 生产退料（红单）- 退料回仓
3. 生产入库（蓝单）- 成品入库

### B. 配料相关（DFS系统）

1. 配料单QC - 正常配料出库
2. 配料单QR - 配料退回入库
3. 配料单LE - 非定额配料

### C. 退料相关（DFS系统）

1. 退料单QR - 退料入库
2. 退料单QC - 退料出库（冲销）
3. 退料单LE - 非定额退料

### D. 其他出入库

1. 其他出库（蓝单）- 各种出库
2. 其他出库（红单）- 冲销出库
3. 其他入库（蓝单）- 各种入库
4. 其他入库（红单）- 冲销入库

## 生产领料

### 通知单

**作用：** 通知仓库准备物料

**特点：** 不直接改变库存，是计划性单据

**类型：**
- WOLL：非定额领料通知单
- WORKD：生产入库通知单 - 定额领料通知单（标准单据）

### 实际单据（Stock）

**作用：** 实际改变库存

**特点：** 直接增减库存数量

**类型：**
- KCSWZ：库存事务单（主表）
- KCSWZMX：库存事务单明细

### 场景1：生产领料（蓝单）- 原材料出库

**物理操作：**
- 仓库（原材料库） → 部门（生产车间）

**ERP效果：**
- 仓库库存：-100（减少）
- 部门库存：+100（增加，但部门库存不算在仓库库存里）

**单据类型：**
- 生产领料通知单（蓝单）
- 数量：+100（正数）

**理解要点：**
- 仓库的原材料库存减少
- 物料从仓库转移到生产现场

### 场景2：生产退料（红单）- 原材料退回仓库

**物理操作：**
- 部门（生产车间） → 仓库（原材料库）

**ERP效果：**
- 仓库库存：+100（增加）
- 部门库存：-100（减少）

**单据类型：**
- 生产领料通知单（红单）- 注意：单据类型还是"领料"，但数量是负数
- 数量：-100（负数）

**理解要点：**
- 仓库的原材料库存增加
- 物料从生产现场退回仓库
- 虽然叫"退料"，但在ERP中通过"生产领料通知单红单"记录（负数）

### 场景3：生产入库（蓝单）- 成品入库

**物理操作：**
- 部门（生产车间） → 仓库（成品库）

**ERP效果：**
- 仓库库存：+100（增加）- 注意：这是成品库存增加

**单据类型：**
- 生产入库通知单（蓝单）
- 数量：+100（正数）

**理解要点：**
- 仓库的成品库存增加
- 生产完成的成品从车间入库到仓库

## 生产配料的业务

> **配料**：生产现场按配方或需求，从仓库领取物料用于生产。

### 场景4：配料单QC（正常配料出库）

**物理操作：**
- 仓库 → 生产现场（配料区）

**ERP效果：**
- 仓库库存：-100（减少）

**单据类型：**
- 其他出库通知单（蓝单）
- 数量：+100（正数）

**DFS单据：**
- 配料单QC（正数）

**理解要点：**
- 从仓库出库物料到配料区
- 属于"其他出库"（非标准生产领料）

### 场景5：配料单QR（配料退回）

**物理操作：**
- 生产现场（配料区） → 仓库

**ERP效果：**
- 仓库库存：+100（增加）

**单据类型：**
- 其他入库通知单（红单）
- 数量：-100（负数，需要*-1转换）

**DFS单据：**
- 配料单QR（正数，但MES回传负数）

**转换规则：**
- DFS回传：-100
- ERP需要：+100（所以需要*-1）

**理解要点：**
- 配料区多余的物料退回仓库
- MES回传负数，但需要转换为正数入库

### 场景6：配料单LE（非定额配料）

**物理操作：**
- 仓库 → 生产现场（非定额领料）

**ERP效果：**
- 仓库库存：-100（减少）

**单据类型：**
- 非定额领料通知单
- 数量：+100（正数）

**DFS单据：**
- 配料单LE（正数）

**理解要点：**
- 不按BOM标准，临时配料需求
- 生成非定额领料通知单

### 场景7：退料单QR（退料入库）

**物理操作：**
- 生产现场 → 仓库

**ERP效果：**
- 仓库库存：+100（增加）

**单据类型：**
- 其他入库通知单（蓝单）
- 数量：+100（正数，需要*-1转换）

**DFS单据：**
- 退料单QR（负数）

**转换规则：**
- DFS回传：-100
- ERP需要：+100（所以需要*-1）

**理解要点：**
- 生产现场退料回仓库
- MES回传负数，转换为正数入库

### 场景8：退料单QC（退料出库）

**物理操作：**
- 仓库 → 生产现场（退料出库，可能是错误操作需要冲销）

**ERP效果：**
- 仓库库存：-100（减少）

**单据类型：**
- 其他出库通知单（红单）
- 数量：-100（负数）

**DFS单据：**
- 退料单QC（负数）

**理解要点：**
- 可能是冲销之前的退料入库操作
- 用红单出库来冲销

### 场景9：退料单LE（非定额退料）

**物理操作：**
- 生产现场 → 仓库（非定额退料）

**ERP效果：**
- 仓库库存：+100（增加）

**单据类型：**
- 非定额退料通知单
- 数量：-100（负数）

**DFS单据：**
- 退料单LE（负数）

**理解要点：**
- 非定额退料场景
- 数量为负数但库存增加